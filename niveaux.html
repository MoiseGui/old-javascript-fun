<script>
function init() { 
    document.getElementById("nbre" ).focus();
	
  }
</script>
<!doctype html>
<html>

<head>
<title>Jeux chiffres</title>
</head>

<body onload="init()">
<main>
<script>

alert("Bienvenue au niveau 1");
nom=prompt("Veillez entrez votre nom:","inconnu(e)");
if(nom==null) nom="inconnu(e)";
</script>
<script>
function handleEnter(e){
    var keycode = (e.keyCode ? e.keyCode : e.which);
    if (keycode == '13') {
        //alert('You pressed enter! - plain javascript');
		valider();
    }
}

function niveau(a){
	if(a==1){
	alert("Niveau 1");
	document.getElementsByTagName("title").item(0).innerHTML="Niveau 1";
	coup=3;
	nombre=parseInt(Math.random()*10);
	document.getElementsByTagName("p").item(0).innerHTML="Règle du jeux: <br> L'ordinateur choisit un nombre au hazard un nombre compris entre 0 et 10. Vous devez essayer de dévinez ce nombre en 3 coups. Bonne chance "+nom;
	document.getElementById("nbre").value="";
	}
	if(a==2){
		if(chance==4){
		chance=0;
		alert("Vous avez échoué à trois reprises, et donc vous retournez au niveau 1");
		niveau(1);
		}
		else{
		chance++;
		alert("Niveau 2");
		document.getElementsByTagName("title").item(0).innerHTML="Niveau 2";
		coup=5;
		nombre=parseInt(Math.random()*100);
		document.getElementsByTagName("p").item(0).innerHTML="Règle du jeux: <br> L'ordinateur choisit un nombre au hazard un nombre compris entre 0 et 100. Vous devez essayer de dévinez ce nombre en 5 coups. Encore Bonne chance "+nom;
		document.getElementById("nbre").value="";
		}
	}
	if(a==3){
		if(chance==6){
		chance=0;
		alert("Vous avez échoué à 5 reprises, et donc vous retournez au niveau 2");
		niveau(2);
		}
		else{
		chance++;
		alert("Niveau 3");
		document.getElementsByTagName("title").item(0).innerHTML="Niveau 3";
		coup=10;
		nombre=parseInt(Math.random()*1000);
		document.getElementsByTagName("p").item(0).innerHTML="Règle du jeux: <br> L'ordinateur choisit un nombre au hazard un nombre compris entre 0 et 1000. Vous devez essayer de dévinez ce nombre en 10 coups. Encore Bonne chance "+nom;
		document.getElementById("nbre").value="";
		}
	}
}
coup=3;
chance=0;
nombre=parseInt(Math.random()*10);
a=1;
function valider(){
	
	if(document.getElementById("nbre").value==nombre){
	reponse=confirm("Bravo "+nom+" vous avez gagnez, continuer?");
	a++;
	if(a>3){
	alert("FELICITATION!! "+nom+" Vous avez terminez avec succès tous les 3 niveaux de ce jeux");
	document.getElementsByTagName("main").item(0).innerHTML='Cliquez <a href="niveaux.html"> ici </a> pour continuer';
	}
	else niveau(a);
	}
	else{
	coup--;
	if(coup==0){
	alert("Le nombre était "+nombre);
	confirm("vous avez perdu!!, continuez?");
	document.getElementById("nbre").value="";
	//coup=3;
	//nombre=parseInt(Math.random()*10);
	//document.getElementsByTagName("p").item(0).innerHTML="Règle du jeux: <br> L'ordinateur choisit un nombre au hasard un nombre compris entre 0 et 10. Vous devez essayer de dévinez ce nombre en 3 coups. Encore Bonne chance "+nom;
	niveau(a);
	}
	else {
	if(document.getElementById("nbre").value>nombre) alert("Plus petit que ça");
	if(document.getElementById("nbre").value<nombre) alert("plus grand que ça");
	document.getElementsByTagName("p").item(0).innerHTML="Vous avez encore "+coup+" coups";
	}
	}
	document.getElementById("nbre" ).focus();
}
</script>
<table align="center" style="text-align:center">
<tr><th>
<h1>Jeux de chriffre</h1>
</th><tr/>
<tr><td><p><u>Règle du jeux:</u> <br> L'ordinateur choisit un nombre au hazard un nombre compris entre 0 et 10. Vous devez essayer de dévinez ce nombre en 3 coups. Bonne chance <script> document.write(nom) </script>!</p></td></tr>
<tr><td>Entrer le nombre: <input type="text" id="nbre" onkeypress = "handleEnter(event)" /><input type="submit" value="Valider" onclick="valider()" /></td></tr>
<tr><td><br><br><audio src="music/1.mp3" hidden controls autoplay style="background-color:gray;" loop=-1></audio></td></tr>
</table>
<h4 align="center">&copy; copyright 2018 Moïse Gui</h4>
</main>
</body>
</html>